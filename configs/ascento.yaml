
camera_name: "hikrobot"
exposure_ms: 1
gain: 16
vid_pid: "2bdf:0001"

# 重投影误差: 0.2064px
camera_matrix: [1793.6800857404514, 0, 733.79421801128808, 0, 1797.6683141409317, 598.57278469548169, 0, 0, 1]
distort_coeffs: [-0.074344944948470867, 0.12374219407668391, -0.0012269879729076962, 0.0031449352406899863, 0]

#  1  0  0
#  0  1  0
#  0  0  1
R_gimbal2imubody: [1, 0, 0, 0, 1, 0, 0, 0, 1]

# 相机同理想情况的偏角: yaw1.33 pitch-0.31 roll2.54 degree
R_camera2gimbal: [-0.023394656076712428, -0.0042985305506354375, 0.99971706632534663, -0.99874228583556468, 0.044457870135492517, -0.023180687370457812, -0.044345648614081121, -0.99900201221925511, -0.0053332008095987593]
t_camera2gimbal: [0.12864444751847026, 0.043962529103256077, 0.055810330184561316]


#####-----cboard参数-----#####
quaternion_canid: 0x100
bullet_speed_canid: 0x101
send_canid: 0xff
can_interface: "can0"

# enemy_color: "red"
enemy_color: "blue"

classify_model: "assets/tiny_resnet.onnx"

model: "assets/buff_25/best_int8_openvino_model/best.xml"     # IOU: 

detect:
  contrast: 1
  brightness: 
    blue: -120
    red: -100
  brightness_threshold:
    blue: 120
    red: 40
  morphology_size:
    blue: 3
    red: 3
  dilate_size: 2
  # canny_low_threshold: 100
  # canny_high_threshold: 180
  # approx_epsilon: 1.0
  R_contours_min_area: 200
  R_contours_max_area: 600
  fanblades_head_contours_min_area: 3000
  fanblades_head_contours_max_area: 8000
  fanblades_body_contours_min_area: 1000
  fanblades_body_contours_max_area: 4000
  standard_fanblade_path: ./assets/standard_fanblade.jpg

threshold: 150
max_angle_error: 45 # degree
min_lightbar_ratio: 2
max_lightbar_ratio: 20
min_lightbar_length: 8
min_armor_ratio: 1
max_armor_ratio: 5
max_side_ratio: 1.5
max_rectangular_error: 25 # degree
min_confidence: 0.8

min_detect_count: 5
max_temp_lost_count: 10

yaw_offset: -0.5 # degree -2.5
pitch_offset: 1.4 # degree 2
comming_angle: 50 # degree
leaving_angle: 30 # degree